<!DOCTYPE html>

<html lang="es">
    
    <head>
        <title>Local Library</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        {% load static %}
        <link rel="stylesheet" href="{% static 'fullcalendar/lib/main.css' %}">
    </head>

    <body>
        <div id="calendar" class="card" style="padding: 1em;"></div>
    </body>

    <body>
  <div id="calendar" class="card" style="padding: 1em;"></div>
</body>

<container>

  <meta charset='utf-8' />
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: [
          {% for event in eventList %}
            {
              title: "{{ event }}",
              start: '{{ event.day | date:"Y-m-d"}}',
              end: '{{ event.day | date:"Y-m-d" }}',
              {% if request.user.mentor %} 
              color: 'green',
              {% endif %}
            },
          {% endfor %}
        ],
        eventOrder: "start"
      });
      
      var createEventButton = {
        text: 'Crear evento',
        click: function() {
          location.href = "{% url 'eventos' %}"
        }
      };
      {% if request.user.mentor %}
      var createTimeslotButton = {
        text: 'Crear timeslot',
        click: function() {
          location.href = "{% url 'timeslots' %}"
        }
      };
      calendar.setOption('customButtons', {
        createEventButton: createEventButton,
        createTimeslotButton: createTimeslotButton,
      });
      calendar.setOption('headerToolbar', {
        left: 'createEventButton, createTimeslotButton',
        center: 'title',
        right: 'today, dayGridMonth, timeGridWeek, timeGridDay, prev, next'
      });
      {% else %}
      calendar.setOption('customButtons', {
        createEventButton: createEventButton
      });
      calendar.setOption('headerToolbar', {
        left: 'createEventButton',
        center: 'title',
        right: 'today, dayGridMonth, timeGridWeek, timeGridDay, prev, next'
      });
      {% endif %}
        
      calendar.render();
      calendar.setOption("locale", "es");
    });
  </script>
  

  <body>
    <div id='calendar'></div>
  </body>
</container>

</html>

