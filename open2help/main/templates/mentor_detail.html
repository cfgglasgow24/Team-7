{% extends "base_generic.html" %}

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-7wZ9i7urK95V4t9LyAHSdsggPFx8N0p0cvyge+yLkuCUJlHJmYxjv6ojrtChTSc9/Z1ZZucVCXsOAtRVGd3siA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" integrity="sha512-YEzJ0HYU1cTYvvbCwIolWDRf3YQjJhZ351hJGBdcezBOhgOyPEe12FaeS0LRxO+f3xIgbzUqNLmQfFsjry/Jpg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

{% block title %} <title>filter</title> {% endblock %}

{% block content %}

<h1 class="tituloBlanco">Perfil {{mentor.first_name}} {{mentor.last_name}}</h1>

<div class="col-md-12">
    <div class="h-80 p-5 cardPerfil border rounded-3">
      <div class = "div_img_mentor text-center">
      <img class = "img_mentor" src="{{ mentor.foto.url }}">
        <br>
        <div class = "div_style_letter"></div>
        <p><strong style = "font-size:20px;color:white;">{{mentor.first_name}} {{mentor.last_name}}</strong></p>
        <div class = "div_style_letter"></div>
        <div>
          <p style = "color:white;"><strong style = "color:white;">Email: </strong>{{mentor.email}}</p>
          <div class = "div_style_letter_1"></div>
          <p style = "color:white;"><strong style = "color:white;" >Telefono: </strong>{{mentor.phone}}</p>
          <div class = "div_style_letter_1"></div>
          <p style = "color:white;"><strong style = "color:white;">Linkedin: </strong>{{mentor.linkedin}}</p>
          <div class = "div_style_letter_1"></div>
          <p style = "color:white;"><strong style = "color:white;">Empresa: </strong> {{mentor.company}}</p>
          <p style = "color:white;"> <strong style = "color:white;">Cargo: </strong>{{mentor.charge}}</p>
          <div class = "div_style_letter_1"></div>
          <p style = "color:white;"><strong style = "color:white;">Areas de conocimiento: <br></strong>{{ mentor.knowledge.all|join:", " }}</p>
          <div class = "div_style_letter_1"></div>
          <p style = "color:white;"><strong style = "color:white;">Rating: </strong> <span id="stars"></span></p>

          <script id="stars-script" mentorRating={{ mentor.rating }}>
            const mentorRating = document.getElementById("stars-script").getAttribute("mentorRating");

            document.getElementById("stars").innerHTML = getStars(mentorRating);

            function getStars(rating) {

              // Round to nearest half
              rating = Math.round(rating * 2) / 2;
              let output = [];

              // Append all the filled whole stars
              for (var i = rating; i >= 1; i--)
                output.push('<i class="fa fa-star" aria-hidden="true" style="color: gold;"></i>&nbsp;');

              // If there is a half a star, append it
              if (i == .5) output.push('<i class="fa fa-star-half-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

              // Fill the empty stars
              for (let i = (5 - rating); i >= 1; i--)
                output.push('<i class="fa fa-star-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

              return output.join('');

            }
          </script>

          <p style = "color:white;"><strong style = "color:white;">Number of Ratings: </strong> {{mentor.num_ratings}}</p>
          <br>
          <p style = "color:white;"><a class = "button" href="{% url 'enviar_solicitud' mentor.pk %}">Enviar Solicitud </a></p>
        </div>
      </div>
    </div>
</div>




{% endblock %}